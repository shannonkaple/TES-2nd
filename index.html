<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Find the Chrome Icon (Screenshot Version)</title>
<style>
  :root { --bg:#f6f7fb; --ink:#111827; --muted:#6b7280; --ok:#22c55e; --bad:#ef4444; --line:#e5e7eb; }
  html,body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
  .wrap{max-width:1100px;margin:24px auto;padding:16px}
  .card{background:#fff;border-radius:16px;box-shadow:0 8px 20px rgba(0,0,0,.08);padding:16px}
  h1{margin:0 0 8px}
  .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  .hud{display:flex;gap:12px;align-items:center;color:var(--muted);font-weight:600}
  .hud strong{color:var(--ink)}
  button{cursor:pointer;border:1px solid var(--line);background:#fff;border-radius:10px;padding:8px 12px}
  label{display:inline-flex;gap:8px;align-items:center}
  input[type="checkbox"]{scale:1.2}
  .feedback{min-height:24px;font-weight:700;margin-top:8px}
  .feedback.ok{color:var(--ok)} .feedback.bad{color:var(--bad)}
  .game{position:relative;display:inline-block;line-height:0;user-select:none}
  .game img{max-width:100%;height:auto;display:block;border:1px solid var(--line);border-radius:12px}
  /* Hotspots are absolutely positioned relative to .game (which sizes to the image) */
  .hotspot{
    position:absolute;
    border:2px solid transparent; /* shows in Teacher View */
    border-radius:8px;
    cursor:pointer;
    box-sizing:border-box;
  }
  .teach .hotspot{border-color:rgba(37,99,235,.5)}
  .hotspot.correct{outline:3px solid var(--ok);outline-offset:1.5px}
  .hotspot.wrong{outline:3px solid var(--bad);outline-offset:1.5px}
  .hotspot::after{ /* label badge in Teacher View */
    content:attr(data-name);
    position:absolute; left:0; top:-22px;
    padding:2px 6px; font-size:11px; background:#111827; color:#fff; border-radius:6px; white-space:nowrap; display:none;
  }
  .teach .hotspot::after{display:block}
  .cursorHud{
    position:absolute; right:8px; bottom:8px; font-size:12px; background:rgba(17,24,39,.85); color:#fff;
    padding:6px 8px; border-radius:8px; display:none;
  }
  .teach .cursorHud{display:block}
  .tip{font-size:12px;color:var(--muted)}
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Browser Icon Hunt (Your Screenshot)</h1>
      <div class="row">
        <div class="hud">
          <span>Find: <strong id="targetLabel">Refresh</strong></span>
          <span>| Score: <strong id="score">0</strong></span>
          <span>| Time: <strong id="clock">00:00</strong></span>
        </div>
        <button id="next">Next</button>
        <button id="restart">Restart</button>
        <label><input type="checkbox" id="teacher"> <span>Teacher View</span></label>
        <span class="tip">Teacher View shows boxes & live % coords to adjust positions.</span>
      </div>

      <div id="feedback" class="feedback"></div>

      <!-- GAME -->
      <div id="game" class="game">
        <!-- 🔁 Replace with your screenshot file name if different -->
        <img id="bg" src="chrome.png" alt="Chrome screenshot for icon hunt">

        <!-- All 13 hotspots (positions are % placeholders; tweak to your image) -->
        <!-- Use left/top/width/height in PERCENTAGES so it stays aligned when embedded -->
        <div class="hotspot" data-name="Back"           style="left: 2.8%;  top: 8.0%; width: 3.2%;  height: 7.5%;"></div>
        <div class="hotspot" data-name="Forward"        style="left: 6.6%;  top: 8.0%; width: 3.2%;  height: 7.5%;"></div>
        <div class="hotspot" data-name="Refresh"        style="left:10.4%;  top: 8.0%; width: 3.2%;  height: 7.5%;"></div>
        <div class="hotspot" data-name="Home"           style="left:14.2%;  top: 8.0%; width: 3.2%;  height: 7.5%;"></div>

        <!-- New Tab (+) usually sits at right edge of last tab in tabstrip -->
        <div class="hotspot" data-name="New Tab"        style="left:33.8%;  top: 18.0%; width: 3.2%;  height: 6.5%;"></div>

        <!-- Extensions (puzzle) and Menu (3 dots) on the right side of the toolbar -->
        <div class="hotspot" data-name="Add-ons"        style="left:85.3%;  top: 18.0%; width: 3.5%;  height: 6.5%;"></div>
        <div class="hotspot" data-name="Menu"           style="left:89.4%;  top: 18.0%; width: 2.8%;  height: 6.5%;"></div>

        <!-- Window controls (top-right) – these vary by OS; adjust to your theme -->
        <div class="hotspot" data-name="Minimize"       style="left:93.0%;  top: 2.8%; width: 2.8%;  height: 5.5%;"></div>
        <div class="hotspot" data-name="Maximize"       style="left:95.8%;  top: 2.8%; width: 2.8%;  height: 5.5%;"></div>
        <div class="hotspot" data-name="Close Window"   style="left:98.6%;  top: 2.8%; width: 2.8%;  height: 5.5%;"></div>

        <!-- Close Tab (the X on the active tab) – sits in the tab strip -->
        <div class="hotspot" data-name="Close Tab"      style="left:29.0%;  top: 12.5%; width: 2.8%;  height: 5.5%;"></div>

        <!-- Bookmarks star near omnibox; Bookmarks Bar is the whole row below -->
        <div class="hotspot" data-name="Bookmarks"      style="left:78.8%;  top: 18.0%; width: 2.8%;  height: 6.5%;"></div>
        <div class="hotspot" data-name="Bookmarks Bar"  style="left: 1.0%;  top: 27.5%; width: 98.0%; height: 7.0%;"></div>

        <!-- live coordinate helper (Teacher View) -->
        <div id="cursorHud" class="cursorHud">x: --% • y: --% • w: --% • h: --%</div>
      </div>
    </div>
  </div>

<script>
(function(){
  // Canonical labels (picked from data-name attributes)
  const game = document.getElementById('game');
  const svgHud = document.getElementById('cursorHud');
  const bg = document.getElementById('bg');
  const hotspots = Array.from(game.querySelectorAll('.hotspot'));

  const targetLabelEl = document.getElementById('targetLabel');
  const scoreEl = document.getElementById('score');
  const feedback = document.getElementById('feedback');
  const nextBtn = document.getElementById('next');
  const restartBtn = document.getElementById('restart');
  const teacher = document.getElementById('teacher');
  const card = document.querySelector('.card');

  const choices = hotspots.map(h => h.dataset.name);

  let score = 0, start = Date.now(), timer = null, current = null;

  function fmt(ms){ const s=Math.floor(ms/1000), m=String(Math.floor(s/60)).padStart(2,'0'), r=String(s%60).padStart(2,'0'); return `${m}:${r}`; }
  function tick(){ document.getElementById('clock').textContent = fmt(Date.now()-start); }

  function chooseNewTarget(){
    current = choices[Math.floor(Math.random()*choices.length)];
    targetLabelEl.textContent = current;
    feedback.textContent = '';
    feedback.className = 'feedback';
  }

  function startTimer(){ clearInterval(timer); start = Date.now(); timer = setInterval(tick,250); }

  // Click handling
  hotspots.forEach(el=>{
    el.addEventListener('click', e=>{
      if(!current) return;
      const name = el.dataset.name;
      if(name === current){
        el.classList.remove('wrong'); el.classList.add('correct');
        score += 1; scoreEl.textContent = String(score);
        feedback.textContent = '✅ Correct!'; feedback.className = 'feedback ok';
        setTimeout(()=>{ el.classList.remove('correct'); chooseNewTarget(); }, 800);
      } else {
        el.classList.remove('correct'); el.classList.add('wrong');
        feedback.textContent = '❌ Try again!'; feedback.className = 'feedback bad';
        setTimeout(()=>{ el.classList.remove('wrong'); }, 700);
      }
      e.stopPropagation();
    }, {passive:true});
  });

  nextBtn.addEventListener('click', chooseNewTarget);
  restartBtn.addEventListener('click', ()=>{ score=0; scoreEl.textContent='0'; chooseNewTarget(); startTimer(); });

  teacher.addEventListener('change', ()=>{
    card.classList.toggle('teach', teacher.checked);
  });

  // ===== Teacher View: live % coordinates under cursor =====
  function updateCursorHud(evt){
    // Get image's rendered box
    const rect = bg.getBoundingClientRect();
    const x = ((evt.clientX - rect.left) / rect.width) * 100;
    const y = ((evt.clientY - rect.top)  / rect.height) * 100;

    if(isFinite(x) && isFinite(y)){
      svgHud.textContent = `x: ${x.toFixed(1)}% • y: ${y.toFixed(1)}% • w: select box • h: select box`;
    }
  }

  // Show % when moving the mouse over the image
  game.addEventListener('mousemove', e=>{
    if(!teacher.checked) return;
    updateCursorHud(e);
  });

  // Let you ALT+drag to resize the currently highlighted hotspot (quick fine-tune)
  let active = null, dragging = false, startPos = null, startBox = null;

  hotspots.forEach(h=>{
    h.addEventListener('mousedown', e=>{
      if(!teacher.checked) return;           // only in Teacher View
      if(!e.altKey) return;                  // hold ALT to edit
      active = h; dragging = true;
      const rect = bg.getBoundingClientRect();
      startPos = { x:e.clientX, y:e.clientY, rect };
      const st = window.getComputedStyle(h);
      startBox = {
        left: parseFloat(st.left), top: parseFloat(st.top),
        width: parseFloat(st.width), height: parseFloat(st.height)
      };
      e.preventDefault();
    });
  });

  window.addEventListener('mousemove', e=>{
    if(!dragging || !active) return;
    const r = startPos.rect;
    const dx = ((e.clientX - startPos.x) / r.width) * 100;
    const dy = ((e.clientY - startPos.y) / r.height) * 100;

    // If SHIFT held -> move; else -> resize
    if(e.shiftKey){
      const leftPct = ((startBox.left + (dx/100)*r.width) / r.width) * 100;
      const topPct  = ((startBox.top  + (dy/100)*r.height)/ r.height)* 100;
      active.style.left = `${leftPct.toFixed(1)}%`;
      active.style.top  = `${topPct.toFixed(1)}%`;
    } else {
      const wPct = ((startBox.width  + (dx/100)*r.width) / r.width) * 100;
      const hPct = ((startBox.height + (dy/100)*r.height)/ r.height)* 100;
      active.style.width  = `${Math.max(1,wPct).toFixed(1)}%`;
      active.style.height = `${Math.max(1,hPct).toFixed(1)}%`;
    }
    // update HUD to show the active box numbers
    const st = window.getComputedStyle(active);
    svgHud.textContent = `left:${parseFloat(st.left)/bg.getBoundingClientRect().width*100|0}% top:${parseFloat(st.top)/bg.getBoundingClientRect().height*100|0}% w:${parseFloat(st.width)/bg.getBoundingClientRect().width*100|0}% h:${parseFloat(st.height)/bg.getBoundingClientRect().height*100|0}%`;
  });

  window.addEventListener('mouseup', ()=>{
    dragging = false; active = null;
  });

  // Init
  startTimer(); chooseNewTarget();
})();
</script>
</body>
</html>
